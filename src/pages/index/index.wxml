<!-- src/pages/index/index.wxml -->
<scroll-view scroll-y="{{modalName==null}}" class="page {{modalName!=null?'show':''}}">
  <image src='{{pagesStatus.bgImg}}' mode='widthFix' class='png' style='width:100%;height:486rpx'></image>
  
  <swiper class="card-swiper {{DotStyle?'square-dot':'round-dot'}}" indicator-dots="true" circular="true" autoplay="true" interval="5000" duration="500" bindchange="cardSwiper" indicator-color="#8799a3" indicator-active-color="#0081ff">
    <swiper-item wx:for="{{pagesStatus.swiperList}}" wx:key class="{{pagesStatus.swiperListCur==index?'cur':''}}">
      <view class="swiper-item">
        <image src="{{item.url}}" mode="aspectFill" wx:if="{{item.type=='image'}}"></image>
        <video src="{{item.url}}" autoplay loop muted show-play-btn="{{false}}" controls="{{false}}" objectFit="cover" wx:if="{{item.type=='video'}}"></video>
      </view>
    </swiper-item>
  </swiper>

  <view class="cu-list grid col-{{pagesStatus.gridCol}} ">
    <view class="cu-item" wx:for="{{pagesStatus.iconList}}" wx:key wx:if="{{index<pagesStatus.gridCol*2}}">
      <view class="cuIcon-{{item.icon}} text-{{item.color}}">
        <view class="cu-tag badge" wx:if="{{item.badge!=0}}">
          <block wx:if="{{item.badge!=1}}">{{item.badge>99?"99+":item.badge}}</block>
        </view>
      </view>
      <text>{{item.name}}</text>
    </view>
  </view>
  <view wx:if="{{user.type == 'Tourists'}}" class="padding flex flex-direction">
    <button class="cu-btn bg-grey lg" style="width: 100%" bindtap="pageToPassport">
      注册后体验更多功能
    </button>
  </view>
</scroll-view>
<view wx:if="{{user.type == 'Students'}}" class="cu-bar tabbar bg-white foot">
  <view class="action">
    <view class="cuIcon-cu-image">
      <image src="/images/tabbar/basics_cur.png"></image>
    </view>
    <view class="text-green">元素</view>
  </view>
  <view class="action">
    <view class="cuIcon-cu-image">
      <image src="/images/tabbar/component.png"></image>
    </view>
    <view class="text-gray">组件</view>
  </view>
  <view class="action">
    <view class="cuIcon-cu-image">
      <image src="/images/tabbar/plugin.png"></image>
      <view class="cu-tag badge">99</view>
    </view>
    <view class="text-gray">扩展</view>
  </view>
  <view class="action">
    <view class="cuIcon-cu-image">
      <image src="/images/tabbar/about.png"></image>
      <view class="cu-tag badge"></view>
    </view>
    <view class="text-gray">关于</view>
  </view>
</view>